---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import createSlug from "../../lib/createSlug";

export const prerender = true;

export async function getStaticPaths() {
  const post = await getCollection("posts");
  return post.map((post) => ({
    params: { slug: createSlug(post.data.title) },
    props: post,
  }));
}
const { data, render, id } = Astro.props;
const { Content } = await render();
---

<Layout title={data.title}>
  <h1>{data.title}</h1>

  <Content />
</Layout>